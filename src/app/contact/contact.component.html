<div class="container">
    <h1>CONTACT</h1>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label>Nom:</label>
            <input type="text" formControlName="from_name"
                [ngClass]="{ 'is-invalid': submitted && userForm.get('from_name')?.hasError}">
            @if (submitted && userForm.get('from_name')?.hasError) {
            <div class="invalid-feedback">
                @if (userForm.get('from_name')?.getError('required')) {
                <div>Veuillez indiquer votre nom</div>
                }
            </div>
            }
        </div>
        <div class="form-group">
            <label>E-mail:</label>
            <input type="email" formControlName="email"
                [ngClass]="{ 'is-invalid': submitted && userForm.get('email')?.hasError}">
            @if (submitted && userForm.get('email')?.hasError) {
            <div class="invalid-feedback">
                @if (userForm.get('email')?.getError('required') || userForm.get('email')?.getError('email')) {
                <div>Veuillez indiquer votre mail</div>
                }
            </div>
            }
        </div>
        <div class="form-group">
            <label for="message">Votre message:</label>
            <textarea id="message" name="message" formControlName="message"
                [ngClass]="{ 'is-invalid': submitted && userForm.get('message')?.hasError}"></textarea>
            @if (submitted && userForm.get('message')?.hasError) {
            <div class="invalid-feedback">
                @if (userForm.get('message')?.getError('required')) {
                <div>Veuillez écrire un message</div>
                }
            </div>
            }
        </div>
        <div class="form-group-btn">
            <button class="button action" type="submit">Submit</button>
        </div>
    </form>
    @if(!sent){
        <div>S'il vous plaît, n'envoyez pas 10 000 messages... Pour nous contacter autrement : <a href="mailto:contact.lesmalentendus@gmail.com">contact.lesmalentendus&#64;gmail.com</a></div>
    }
    @if(sent){
        <div class="valid">Message envoyé !</div>
    }
</div>